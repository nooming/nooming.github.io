<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="中国象棋游戏 - 支持双人对战模式">
    <meta name="keywords" content="中国象棋,象棋,在线游戏,双人对战">
    <meta name="author" content="nooming">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="../../../favicon-io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../favicon-io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../favicon-io/favicon-16x16.png">
    <link rel="manifest" href="../../../favicon-io/site.webmanifest">
    <link rel="shortcut icon" href="../../../favicon-io/favicon.ico">

    <!-- 公共样式 -->
    <link rel="stylesheet" href="../../../common/css/common.css">
    
    <!-- 游戏样式 -->
    <link rel="stylesheet" href="css/style.css">
    
    <style>
        /* 页面特定样式 - 与首页风格一致 */
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        
        /* 页面头部布局 */
        .page-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
            position: relative;
        }
        
        .back-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white !important;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
            flex-shrink: 0;
            font-size: 0.95rem;
            padding: 9px 18px;
        }
        
        .back-btn:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        .game-info {
            background: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        /* 页面头部布局 */
        .page-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
            position: relative;
        }
        
        @media (max-width: 767.98px) {
            .page-header {
                margin-bottom: 20px;
            }
            .back-btn {
                font-size: 0.85rem;
                padding: 7px 14px;
            }
            .game-info {
                padding: 20px 18px;
                border-radius: 14px;
            }
        }
    </style>
</head>
<body class="page-container">
    <!-- 页面头部 -->
    <div class="page-header">
        <a href="../index.html" class="back-btn">← 返回小游戏</a>
        <div style="width: 1px; visibility: hidden;"><!-- 占位元素，用于平衡布局 --></div>
    </div>

    <div class="game-container">
        <div class="game-info">
            <div class="game-controls">
                <div class="mode-selector">
                    <button class="mode-btn active" data-mode="two">双人对战</button>
                    <button class="mode-btn" data-mode="ai">单人模式</button>
                </div>
                <div>
                    <button class="undo-btn" id="undoBtn" onclick="undoMove()" disabled>悔棋</button>
                    <button class="reset-btn" onclick="resetGame()">重新开始</button>
                </div>
            </div>
            <div class="difficulty-selector" id="difficultySelector">
                <div class="difficulty-label">选择难度：</div>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn active" data-difficulty="easy">简单</button>
                    <button class="difficulty-btn" data-difficulty="medium">中等</button>
                    <button class="difficulty-btn" data-difficulty="hard">困难</button>
                </div>
            </div>
            <div class="status" id="status">红方先行</div>
        </div>

        <div class="board-container">
            <canvas id="board" width="450" height="500"></canvas>
        </div>
    </div>

    <!-- xiangqi.js 游戏逻辑库 -->
    <script src="lib/xiangqi.min.js"></script>
    <!-- 游戏逻辑 -->
    <script src="js/game.js"></script>
    <script src="../../../common/js/utils.js" defer></script>
</body>
</html>

